{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getStorage } from \"firebase/storage\";\nimport { getFirestore } from \"firebase/firestore\";\nimport 'firebase/messaging';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport 'firebase/compat/storage';\nimport 'firebase/compat/messaging';\nimport 'firebase/compat/analytics';\nconst API_KEY = process.env.REACT_APP_FIREBASE_KEY; // const firebaseConfig = {\n//   apiKey: process.env.REACT_APP_FIREBASE_KEY,\n//   authDomain: \"chat-ab746.firebaseapp.com\",\n//   projectId: \"chat-ab746\",\n//   storageBucket: \"chat-ab746.appspot.com\",\n//   messagingSenderId: \"901216368405\",\n//   appId: \"1:901216368405:web:8ec942ee51611df5c49b1c\",\n// };\n\nconst firebaseConfig = {\n  apiKey: API_KEY,\n  authDomain: \"chat-engine-8dbde.firebaseapp.com\",\n  projectId: \"chat-engine-8dbde\",\n  storageBucket: \"chat-engine-8dbde.appspot.com\",\n  messagingSenderId: \"654735497077\",\n  appId: \"1:654735497077:web:e95d3917f9a3035db5653c\",\n  measurementId: \"G-2355KSKVN7\"\n};\nconsole.log(API_KEY);\nfirebase.initializeApp(config); // Request notification permission\n\nconst messaging = firebase.messaging();\nmessaging.requestPermission().then(() => {\n  console.log('Notification permission granted.');\n  return messaging.getToken();\n}).then(token => {\n  console.log('FCM Token:', token); // Send this token to your server for message targeting\n}).catch(error => {\n  console.error('Notification permission denied:', error);\n}); // Handle incoming messages\n\nmessaging.onMessage(payload => {\n  console.log('Push notification received:', payload); // Display the notification to the user\n\n  new Notification(payload.notification.title, {\n    body: payload.notification.body\n  });\n}); // Initialize Firebase\n\nexport const app = initializeApp(firebaseConfig);\nexport const auth = getAuth();\nexport const storage = getStorage();\nexport const db = getFirestore();","map":{"version":3,"sources":["C:/Users/devan/Downloads/youtube2022-react-chat/youtube2022-react-chat/src/firebase.js"],"names":["initializeApp","getAuth","getStorage","getFirestore","firebase","API_KEY","process","env","REACT_APP_FIREBASE_KEY","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","console","log","config","messaging","requestPermission","then","getToken","token","catch","error","onMessage","payload","Notification","notification","title","body","app","auth","storage","db"],"mappings":"AAAA,SAASA,aAAT,QAA8B,cAA9B;AACA,SAASC,OAAT,QAAwB,eAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,YAAT,QAA6B,oBAA7B;AACA,OAAO,oBAAP;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAO,sBAAP;AACA,OAAO,2BAAP;AACA,OAAO,yBAAP;AACA,OAAO,2BAAP;AACA,OAAO,2BAAP;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA5B,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAEL,OADa;AAErBM,EAAAA,UAAU,EAAE,mCAFS;AAGrBC,EAAAA,SAAS,EAAE,mBAHU;AAIrBC,EAAAA,aAAa,EAAE,+BAJM;AAKrBC,EAAAA,iBAAiB,EAAE,cALE;AAMrBC,EAAAA,KAAK,EAAE,2CANc;AAOrBC,EAAAA,aAAa,EAAE;AAPM,CAAvB;AASAC,OAAO,CAACC,GAAR,CAAYb,OAAZ;AACAD,QAAQ,CAACJ,aAAT,CAAuBmB,MAAvB,E,CAEA;;AACA,MAAMC,SAAS,GAAGhB,QAAQ,CAACgB,SAAT,EAAlB;AACAA,SAAS,CACNC,iBADH,GAEGC,IAFH,CAEQ,MAAM;AACVL,EAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACA,SAAOE,SAAS,CAACG,QAAV,EAAP;AACD,CALH,EAMGD,IANH,CAMSE,KAAD,IAAW;AACfP,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BM,KAA1B,EADe,CAEf;AACD,CATH,EAUGC,KAVH,CAUUC,KAAD,IAAW;AAChBT,EAAAA,OAAO,CAACS,KAAR,CAAc,iCAAd,EAAiDA,KAAjD;AACD,CAZH,E,CAcA;;AACAN,SAAS,CAACO,SAAV,CAAqBC,OAAD,IAAa;AAC/BX,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CU,OAA3C,EAD+B,CAE/B;;AACA,MAAIC,YAAJ,CAAiBD,OAAO,CAACE,YAAR,CAAqBC,KAAtC,EAA6C;AAC3CC,IAAAA,IAAI,EAAEJ,OAAO,CAACE,YAAR,CAAqBE;AADgB,GAA7C;AAGD,CAND,E,CAQA;;AACA,OAAO,MAAMC,GAAG,GAAGjC,aAAa,CAACS,cAAD,CAAzB;AACP,OAAO,MAAMyB,IAAI,GAAGjC,OAAO,EAApB;AACP,OAAO,MAAMkC,OAAO,GAAGjC,UAAU,EAA1B;AACP,OAAO,MAAMkC,EAAE,GAAGjC,YAAY,EAAvB","sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getStorage } from \"firebase/storage\";\nimport { getFirestore } from \"firebase/firestore\";\nimport 'firebase/messaging';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport 'firebase/compat/storage';\nimport 'firebase/compat/messaging';\nimport 'firebase/compat/analytics';\n\nconst API_KEY = process.env.REACT_APP_FIREBASE_KEY\n// const firebaseConfig = {\n//   apiKey: process.env.REACT_APP_FIREBASE_KEY,\n//   authDomain: \"chat-ab746.firebaseapp.com\",\n//   projectId: \"chat-ab746\",\n//   storageBucket: \"chat-ab746.appspot.com\",\n//   messagingSenderId: \"901216368405\",\n//   appId: \"1:901216368405:web:8ec942ee51611df5c49b1c\",\n// };\nconst firebaseConfig = {\n  apiKey: API_KEY,\n  authDomain: \"chat-engine-8dbde.firebaseapp.com\",\n  projectId: \"chat-engine-8dbde\",\n  storageBucket: \"chat-engine-8dbde.appspot.com\",\n  messagingSenderId: \"654735497077\",\n  appId: \"1:654735497077:web:e95d3917f9a3035db5653c\",\n  measurementId: \"G-2355KSKVN7\"\n};\nconsole.log(API_KEY)\nfirebase.initializeApp(config);\n\n// Request notification permission\nconst messaging = firebase.messaging();\nmessaging\n  .requestPermission()\n  .then(() => {\n    console.log('Notification permission granted.');\n    return messaging.getToken();\n  })\n  .then((token) => {\n    console.log('FCM Token:', token);\n    // Send this token to your server for message targeting\n  })\n  .catch((error) => {\n    console.error('Notification permission denied:', error);\n  });\n\n// Handle incoming messages\nmessaging.onMessage((payload) => {\n  console.log('Push notification received:', payload);\n  // Display the notification to the user\n  new Notification(payload.notification.title, {\n    body: payload.notification.body,\n  });\n});\n\n// Initialize Firebase\nexport const app = initializeApp(firebaseConfig);\nexport const auth = getAuth();\nexport const storage = getStorage();\nexport const db = getFirestore()\n"]},"metadata":{},"sourceType":"module"}